// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"

}

model User {
  id            String    @id @default(uuid())
  name          String
  email         String    @unique
  passwordHash  String
  role          String    @default("creator") // "creator" | "investor" | "admin"
  bio           String?
  country       String?
  city          String?
  skills        String?   // Stored as comma separated string or JSON if supported, using string for SQLite simplicity
  interests     String?   // Stored as comma separated string
  publicProfile Boolean   @default(true)
  createdAt     DateTime  @default(now())
  
  projects      Project[]
}

model Project {
  id                  String    @id @default(uuid())
  userId              String
  user                User      @relation(fields: [userId], references: [id])
  title               String
  shortPitch          String
  ideaDescription     String
  problem             String
  solution            String
  targetMarket        String
  category            String
  status              String    @default("draft") // "draft" | "pending_build" | "ready" | "published"
  brandConcept        String?
  investorDescription String?
  createdAt           DateTime  @default(now())
  updatedAt           DateTime  @updatedAt

  investorContacts    InvestorContact[]
}

model InvestorContact {
  id            String    @id @default(uuid())
  projectId     String
  project       Project   @relation(fields: [projectId], references: [id])
  investorName  String
  investorEmail String
  message       String
  createdAt     DateTime  @default(now())
}
