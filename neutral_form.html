<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <title>Mondial.eco ‚Äì 4 Steps to Bring Your Idea to Life</title> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="description" content="An interface designed for young creators. In 4 steps, you outline your idea, feelings, and reality. We help you structure it." /> <style> :root { --bg: #050816; --bg2: #0b1220; --card: rgba(15, 23, 42, 0.96); --accent: #22c55e; --accent2: #38bdf8; --accent3: #f97316; --accent-soft: rgba(56, 189, 248, 0.18); --text: #f9fafb; --muted: #9ca3af; --border: rgba(148, 163, 184, 0.35); --error: #fb7185; --success: #bbf7d0; } * { box-sizing: border-box; margin: 0; padding: 0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif; } body { min-height: 100vh; background: transparent; color: var(--text); -webkit-font-smoothing: antialiased; } a { color: inherit; text-decoration: none; } .page { max-width: 480px; margin: 0 auto; padding: 16px 14px 28px; min-height: 100vh; position: relative; } .page::before { display: none; } header { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-bottom: 18px; } .logo { display: flex; align-items: center; gap: 8px; } .logo-icon { width: 30px; height: 30px; border-radius: 999px; background: conic-gradient(from 210deg, #22c55e, #38bdf8, #a855f7, #f97316, #22c55e); display: flex; align-items: center; justify-content: center; font-size: 15px; font-weight: 800; color: #0f172a; box-shadow: 0 0 18px rgba(56, 189, 248, 0.7); } .logo-text-main { font-size: 13px; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; } .logo-text-sub { font-size: 11px; color: var(--muted); } .pill-free { font-size: 11px; padding: 5px 10px; border-radius: 999px; border: 1px solid rgba(148, 163, 184, 0.4); color: var(--text); background: rgba(15, 23, 42, 0.85); display: flex; gap: 6px; align-items: center; box-shadow: 0 10px 30px rgba(15, 23, 42, 0.5); } .pill-dot { width: 7px; height: 7px; border-radius: 999px; background: #22c55e; box-shadow: 0 0 12px rgba(34, 197, 94, 0.9); } main { display: flex; flex-direction: column; gap: 16px; } .hero { display: flex; flex-direction: column; gap: 8px; } .hero-kicker { font-size: 11px; text-transform: uppercase; letter-spacing: 0.14em; color: #e5e7eb; display: flex; align-items: center; gap: 6px; } .hero-kicker span.tag { padding: 3px 9px; border-radius: 999px; background: rgba(15, 23, 42, 0.9); border: 1px solid rgba(148, 163, 184, 0.5); font-size: 10px; } .hero-title { font-size: 22px; line-height: 1.25; font-weight: 700; } .hero-title span { background: linear-gradient(120deg, #22c55e, #38bdf8); -webkit-background-clip: text; color: transparent; } .hero-sub { font-size: 13px; color: #e5e7eb; } .hero-sub strong { color: #a5b4fc; font-weight: 600; } .hero-note { font-size: 11px; color: var(--muted); } /* Progression */ .progress { margin-top: 10px; display: flex; flex-direction: column; gap: 6px; } .progress-label { font-size: 11px; color: var(--muted); display: flex; justify-content: space-between; align-items: center; } .progress-steps { display: flex; gap: 6px; font-size: 10px; } .progress-step-pill { padding: 3px 8px; border-radius: 999px; background: rgba(15, 23, 42, 0.8); border: 1px solid transparent; color: var(--muted); display: flex; align-items: center; gap: 4px; } .progress-step-pill.active { border-color: rgba(56, 189, 248, 0.9); background: rgba(15, 23, 42, 1); color: #e5e7eb; } .progress-bar { width: 100%; height: 6px; border-radius: 999px; background: rgba(15, 23, 42, 0.9); overflow: hidden; } .progress-fill { height: 100%; width: 25%; border-radius: inherit; background: linear-gradient(90deg, #22c55e, #38bdf8, #a855f7); transition: width 0.2s ease-out; } form { margin-top: 6px; } .step { display: none; padding: 14px 12px 16px; border-radius: 18px; background: var(--card); border: 1px solid var(--border); box-shadow: 0 16px 45px rgba(15, 23, 42, 0.85); } .step.active { display: block; } .step-number { font-size: 11px; text-transform: uppercase; letter-spacing: 0.14em; color: var(--muted); margin-bottom: 2px; display: flex; gap: 6px; align-items: center; } .step-emoji { font-size: 14px; } .step-title { font-size: 15px; font-weight: 600; margin-bottom: 4px; } .step-sub { font-size: 12px; color: var(--muted); margin-bottom: 10px; } .field { display: flex; flex-direction: column; gap: 4px; margin-bottom: 10px; } .field label { font-size: 12px; color: var(--text); } .field small { font-size: 10px; color: var(--muted); } input[type="text"], input[type="email"], select, textarea { border-radius: 12px; border: 1px solid rgba(51, 65, 85, 0.85); background: rgba(15, 23, 42, 0.96); padding: 8px 11px; font-size: 12px; color: var(--text); outline: none; } input::placeholder, textarea::placeholder { color: #6b7280; } input:focus, select:focus, textarea:focus { border-color: rgba(56, 189, 248, 0.9); box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.45); } textarea { min-height: 70px; resize: vertical; } .error-text { font-size: 10px; color: var(--error); margin-top: 2px; } .conditions-box { font-size: 11px; color: var(--muted); background: rgba(15, 23, 42, 0.92); border-radius: 12px; border: 1px solid rgba(51, 65, 85, 0.9); padding: 8px 10px; max-height: 150px; overflow: auto; margin-bottom: 8px; } .conditions-box h4 { font-size: 11px; margin-bottom: 4px; color: var(--text); } .conditions-box ul { padding-left: 14px; margin-top: 4px; } .conditions-box li { margin-bottom: 4px; } .checkbox-row { display: flex; align-items: flex-start; gap: 6px; font-size: 11px; color: var(--muted); margin-bottom: 4px; } .checkbox-row input { margin-top: 2px; } .recap-block { font-size: 12px; color: var(--muted); border-radius: 12px; border: 1px solid rgba(51, 65, 85, 0.9); padding: 8px 10px; background: rgba(15, 23, 42, 0.92); margin-bottom: 8px; } .recap-block h4 { font-size: 12px; color: var(--text); margin-bottom: 4px; } .recap-line { margin-bottom: 4px; } .recap-label { font-weight: 500; color: #e5e7eb; } .recap-value { word-break: break-word; white-space: pre-wrap; /* For textarea content */ } .step-actions { display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; } .btn-primary { flex: 1; border: none; border-radius: 999px; padding: 10px 16px; font-size: 13px; font-weight: 600; background: linear-gradient(120deg, #22c55e, #38bdf8); color: #022c22; cursor: pointer; box-shadow: 0 14px 35px rgba(34, 197, 94, 0.35); transition: all 0.2s; } .btn-secondary { border-radius: 999px; padding: 9px 14px; font-size: 12px; border: 1px solid rgba(148, 163, 184, 0.5); background: rgba(15, 23, 42, 0.85); color: var(--muted); cursor: pointer; transition: all 0.2s; } .btn-primary:disabled { opacity: 0.6; cursor: default; box-shadow: none; background: rgba(15, 23, 42, 0.85); color: var(--muted); } .btn-loading { position: relative; pointer-events: none; } .btn-loading::after { content: ''; position: absolute; top: 50%; left: 50%; width: 15px; height: 15px; margin: -7.5px 0 0 -7.5px; border: 2px solid #fff; border-radius: 50%; border-top-color: transparent; animation: spin 1s ease-in-out infinite; } @keyframes spin { to { transform: rotate(360deg); } } .step-hint { font-size: 11px; color: var(--muted); margin-top: 4px; } .success-box { margin-top: 12px; padding: 10px 12px; border-radius: 13px; background: rgba(34, 197, 94, 0.15); /* Soft Green */ border: 1px solid var(--accent); font-size: 12px; color: var(--success); } .success-box strong { color: var(--text); } .error-submission-box { margin-top: 12px; padding: 10px 12px; border-radius: 13px; background: rgba(251, 113, 133, 0.15); /* Soft Red */ border: 1px solid var(--error); font-size: 12px; color: var(--error); } .error-submission-box strong { color: var(--text); } footer { margin-top: 18px; border-top: 1px solid rgba(30, 64, 175, 0.5); padding-top: 8px; font-size: 10px; color: var(--muted); display: flex; justify-content: space-between; gap: 8px; flex-wrap: wrap; } #user-status { font-size: 10px; color: var(--muted); margin-bottom: 4px; text-align: center; } </style> </head> <body> <div class="page"> <header> <div class="logo"> <div class="logo-icon">ME</div> <div> <div class="logo-text-main">MONDIAL.ECO</div> <div class="logo-text-sub">A place where your idea matters.</div> </div> </div> <div class="pill-free"> <span class="pill-dot"></span> Free for Creators </div> </header> <main> <section class="hero"> <div class="hero-kicker"> <span class="tag">Young Creators</span> 4 steps, no pressure. </div> <h1 class="hero-title"> <span>Got an idea?</span><br /> We help you take it seriously. </h1> <p class="hero-sub"> Here, you can be <strong>young</strong>, not "perfect". You outline what's on your mind and in your heart, step by step. We don't ask for expertise, just <strong>authenticity</strong>. </p> <p class="hero-note"> You answer. We think with you. We structure it afterward. </p> <div class="progress"> <div class="progress-label"> <span>Step <span id="progress-step">1</span> of 4</span> <div class="progress-steps"> <div class="progress-step-pill" data-pill="1">1Ô∏è‚É£ You</div> <div class="progress-step-pill" data-pill="2">2Ô∏è‚É£ Idea</div> <div class="progress-step-pill" data-pill="3">3Ô∏è‚É£ Reality</div> <div class="progress-step-pill" data-pill="4">4Ô∏è‚É£ Submit</div> </div> </div> <div class="progress-bar"> <div class="progress-fill" id="progress-fill"></div> </div> </div> </section> <p id="user-status">User Status: Loading...</p> <form id="flowForm"> <!-- STEP 1 --> <div class="step active" data-step="1"> <div class="step-number"> <span class="step-emoji">üë§</span> Step 1 ¬∑ Who You Are </div> <div class="step-title">We start with the basics: you.</div> <div class="step-sub"> No matter your age, background, or grades in school. <strong>Here, you have the right to have an idea.</strong> </div> <div class="field"> <label for="prenom">Your First Name *</label> <input type="text" id="prenom" name="prenom" placeholder="Ex: Lina, Yanis, In√®s..." required /> <div class="error-text" data-error-for="prenom"></div> </div> <div class="field"> <label for="email">Your Email *</label> <input type="email" id="email" name="email" placeholder="Ex: you@mail.com" required /> <small>We will send your project and our feedback here.</small> <div class="error-text" data-error-for="email"></div> </div> <div class="field"> <label for="pays">Where do you live? *</label> <select id="pays" name="pays" required> <option value="">Choose...</option> <option value="France">France</option> <option value="Belgique">Belgium</option> <option value="Suisse">Switzerland</option> <option value="Canada">Canada</option> <option value="Autre">Other Country</option> </select> <div class="error-text" data-error-for="pays"></div> </div> <div class="step-actions"> <button type="button" class="btn-primary" id="next-1">Continue</button> </div> <div class="step-hint"> You can leave at any time. Nothing is sent until you validate the final step. </div> </div> <!-- STEP 2 --> <div class="step" data-step="2"> <div class="step-number"> <span class="step-emoji">üí°</span> Step 2 ¬∑ Your Idea </div> <div class="step-title">Putting words to what you imagine.</div> <div class="step-sub"> It can be vague, strange, or different. That's okay. <strong>Your creativity is welcome, not judged.</strong> </div> <div class="field"> <label for="typeProjet">What type of project is it? *</label> <select id="typeProjet" name="typeProjet" required> <option value="">Choose...</option> <option value="business_local">In real life (place, service, activity‚Ä¶)</option> <option value="en_ligne">Online (app, website, content‚Ä¶)</option> <option value="mixte">A bit of both</option> <option value="je_ne_sais_pas">I don't know yet</option> </select> <div class="error-text" data-error-for="typeProjet"></div> </div> <div class="field"> <label for="idee">Explain your idea in your own words *</label> <textarea id="idee" name="idee" placeholder="Imagine you're telling your idea to a friend. Write just like that."></textarea> <small>No need to "talk like a pro". Your words are what matter.</small> <div class="error-text" data-error-for="idee"></div> </div> <div class="field"> <label for="pourquoi">Why does this project matter to you? *</label> <textarea id="pourquoi" name="pourquoi" placeholder="What difference does it make for you, your life, or others?"></textarea> <small>This is an important question. You can be sincere, even if it's personal.</small> <div class="error-text" data-error-for="pourquoi"></div> </div> <div class="field"> <label for="peur">What scares you the most? (optional)</label> <textarea id="peur" name="peur" placeholder="Ex: failing, running out of money, no one understanding your idea..."></textarea> <small>This doesn't count against you. It helps us see how to support you.</small> </div> <div class="step-actions"> <button type="button" class="btn-secondary" data-prev>Back</button> <button type="button" class="btn-primary" id="next-2">Continue</button> </div> <div class="step-hint"> Just by writing this down, you're already taking a real step for your future self. </div> </div> <!-- STEP 3 --> <div class="step" data-step="3"> <div class="step-number"> <span class="step-emoji">üåç</span> Step 3 ¬∑ Your Reality + Our Rules </div> <div class="step-title">Let's look at what's possible for you today.</div> <div class="step-sub"> We don't expect you to be rich or have "perfect time". We just want to know what we're building with. </div> <div class="field"> <label for="temps">How much time can you commit per week? *</label> <select id="temps" name="temps" required> <option value="">Choose...</option> <option value="-5h">Less than 5 hours</option> <option value="5-10h">Between 5 and 10 hours</option> <option value="10-20h">Between 10 and 20 hours</option> <option value="+20h">More than 20 hours</option> </select> <div class="error-text" data-error-for="temps"></div> </div> <div class="field"> <label for="budget">What budget can you commit initially? (even if it's small) *</label> <select id="budget" name="budget" required> <option value="">Choose...</option> <option value="0-500">0 to 500‚Ç¨</option> <option value="500-2000">500 to 2,000‚Ç¨</option> <option value="2000-10000">2,000 to 10,000‚Ç¨</option> <option value="+10000">More than 10,000‚Ç¨</option> <option value="je_ne_sais_pas">I don't know yet</option> </select> <div class="error-text" data-error-for="budget"></div> </div> <div class="conditions-box"> <h4>The Rules of the Game (Clear Version):</h4> <ul> <li>‚Ä¢ The creation of your project and the analysis of your request are <strong>free</strong>.</li> <li>‚Ä¢ You always remain the <strong>owner of your idea and your project</strong>.</li> <li>‚Ä¢ Your project can be presented to potential investors, but only through Mondial.eco.</li> <li>‚Ä¢ If an investment is made thanks to Mondial.eco, the platform may take <strong>3% equity</strong>.</li> <li>‚Ä¢ If no funding comes through Mondial.eco, you owe us nothing.</li> <li>‚Ä¢ You can request to modify or delete your information by writing to us.</li> </ul> </div> <div class="checkbox-row"> <input type="checkbox" id="conditions" name="conditions" /> <label for="conditions"> I understand these rules and I agree that Mondial.eco processes my request this way. </label> </div> <div class="error-text" data-error-for="conditions"></div> <div class="step-actions"> <button type="button" class="btn-secondary" data-prev>Back</button> <button type="button" class="btn-primary" id="next-3">Continue</button> </div> <div class="step-hint"> If any point is an issue, you can write to us: <strong>contact@mondial.eco</strong>. </div> </div> <!-- STEP 4 --> <div class="step" data-step="4"> <div class="step-number"> <span class="step-emoji">üöÄ</span> Step 4 ¬∑ Launching </div> <div class="step-title">Last look before sending.</div> <div class="step-sub"> Review it. If you click send, it means: <strong>"I'm taking my idea seriously, even if I'm scared."</strong> And we take it seriously with you. </div> <div class="recap-block"> <h4>Your Summary</h4> <div class="recap-line"> <span class="recap-label">First Name:</span> <span id="recap-prenom" class="recap-value"></span> </div> <div class="recap-line"> <span class="recap-label">Email:</span> <span id="recap-email" class="recap-value"></span> </div> <div class="recap-line"> <span class="recap-label">Country:</span> <span id="recap-pays" class="recap-value"></span> </div> <div class="recap-line"> <span class="recap-label">Project Type:</span> <span id="recap-type" class="recap-value"></span> </div> <div class="recap-line"> <span class="recap-label">Your Idea:</span> <span id="recap-idee" class="recap-value"></span> </div> <div class="recap-line"> <span class="recap-label">Why it Matters:</span> <span id="recap-pourquoi" class="recap-value"></span> </div> <div class="recap-line"> <span class="recap-label">What Scares You:</span> <span id="recap-peur" class="recap-value"></span> </div> <div class="recap-line"> <span class="recap-label">Time Available:</span> <span id="recap-temps" class="recap-value"></span> </div> <div class="recap-line"> <span class="recap-label">Budget:</span> <span id="recap-budget" class="recap-value"></span> </div> </div> <div class="step-actions"> <button type="button" class="btn-secondary" data-prev>Back</button> <button type="submit" class="btn-primary" id="submitBtn">Send my Request</button> </div> <div class="step-hint"> After submission, we will confirm receipt and start working on your project. </div> <div class="success-box" id="successBox" style="display:none;"> <strong>It's Done.</strong><br /> You've just put down in writing an idea that many keep in their heads. The Mondial.eco team will read your project, structure it, and respond via email. Keep this moment as a starting point, not an end. </div> <div class="error-submission-box" id="errorBox" style="display:none;"> <strong>Submission Error.</strong><br /> A problem occurred while saving your request. Please try again or check the console for more details. </div> </div> </form> </main> <footer> <div>¬© <span id="year"></span> Mondial.eco</div> <div>Young ¬∑ Creative ¬∑ Legitimate</div> </footer> </div> <script type="module"> // Firebase Imports import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js"; import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js"; import { getFirestore, collection, addDoc, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js"; // Global variables (from Canvas environment) const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id'; const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null; const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null; // App state let db; let auth; let userId = null; let isAuthReady = false; const steps = document.querySelectorAll(".step"); const progressStep = document.getElementById("progress-step"); const progressFill = document.getElementById("progress-fill"); const form = document.getElementById("flowForm"); const submitBtn = document.getElementById("submitBtn"); const successBox = document.getElementById("successBox"); const errorBox = document.getElementById("errorBox"); const userStatusEl = document.getElementById("user-status"); const stepPills = document.querySelectorAll("[data-pill]"); let currentStep = 1; // --- UTILITIES --- function updatePills(step) { stepPills.forEach(p => { p.classList.toggle("active", Number(p.dataset.pill) === step); }); } function showStep(step) { steps.forEach(s => { s.classList.toggle("active", Number(s.dataset.step) === step); }); currentStep = step; progressStep.textContent = step; progressFill.style.width = (step * 25) + "%"; updatePills(step); // Hide messages when changing steps successBox.style.display = "none"; errorBox.style.display = "none"; window.scrollTo({ top: 0, behavior: "smooth" }); } function setError(fieldName, msg) { const el = document.querySelector('[data-error-for="' + fieldName + '"]'); if (el) el.textContent = msg || ""; } // --- FORM VALIDATION --- function validateStep1() { let ok = true; const prenom = document.getElementById("prenom"); const email = document.getElementById("email"); const pays = document.getElementById("pays"); setError("prenom", ""); setError("email", ""); setError("pays", ""); if (!prenom.value.trim()) { setError("prenom", "Please enter your first name."); ok = false; } if (!email.value.trim()) { setError("email", "Please enter your email."); ok = false; } else if (!/^\S+@\S+\.\S+$/.test(email.value.trim())) { setError("email", "The email does not appear to be valid."); ok = false; } if (!pays.value.trim()) { setError("pays", "Please select a country."); ok = false; } return ok; } function validateStep2() { let ok = true; const typeProjet = document.getElementById("typeProjet"); const idee = document.getElementById("idee"); const pourquoi = document.getElementById("pourquoi"); setError("typeProjet", ""); setError("idee", ""); setError("pourquoi", ""); if (!typeProjet.value.trim()) { setError("typeProjet", "Please choose an option."); ok = false; } if (!idee.value.trim()) { setError("idee", "Please explain your idea in your own words."); ok = false; } if (!pourquoi.value.trim()) { setError("pourquoi", "Please tell us why this project matters to you."); ok = false; } return ok; } function validateStep3() { let ok = true; const temps = document.getElementById("temps"); const budget = document.getElementById("budget"); const conditions = document.getElementById("conditions"); setError("temps", ""); setError("budget", ""); setError("conditions", ""); if (!temps.value.trim()) { setError("temps", "Please indicate your time availability."); ok = false; } if (!budget.value.trim()) { setError("budget", "Please indicate your approximate budget."); ok = false; } if (!conditions.checked) { setError("conditions", "You must accept these rules to continue."); ok = false; } return ok; } function fillRecap() { // Helper function to get value and its display text const getValue = (id) => document.getElementById(id).value; const getSelectText = (id) => document.getElementById(id).options[document.getElementById(id).selectedIndex].text; document.getElementById("recap-prenom").textContent = getValue("prenom") || "-"; document.getElementById("recap-email").textContent = getValue("email") || "-"; document.getElementById("recap-pays").textContent = getValue("pays") || "-"; // For select/textarea, showing the actual content is better for recap document.getElementById("recap-type").textContent = getSelectText("typeProjet") || "-"; document.getElementById("recap-idee").textContent = getValue("idee") || "-"; document.getElementById("recap-pourquoi").textContent = getValue("pourquoi") || "-"; document.getElementById("recap-peur").textContent = getValue("peur") || "-"; document.getElementById("recap-temps").textContent = getSelectText("temps") || "-"; document.getElementById("recap-budget").textContent = getSelectText("budget") || "-"; } // --- FIREBASE INITIALIZATION AND AUTHENTICATION --- async function initFirebaseAndAuth() { if (!firebaseConfig) { console.error("Firebase configuration is missing."); userStatusEl.textContent = "Error: Firebase configuration missing."; submitBtn.disabled = true; return; } try { // 1. Initialize Firebase App and Services const app = initializeApp(firebaseConfig); db = getFirestore(app); auth = getAuth(app); setLogLevel('Debug'); // Enable debug logging // 2. Authenticate if (initialAuthToken) { await signInWithCustomToken(auth, initialAuthToken); } else { await signInAnonymously(auth); } // 3. Set up Auth Listener to update state onAuthStateChanged(auth, (user) => { if (user) { userId = user.uid; userStatusEl.textContent = `User logged in (ID: ${userId}).`; isAuthReady = true; } else { userId = null; userStatusEl.textContent = "User logged out."; isAuthReady = true; } }); } catch (e) { console.error("Error during Firebase initialization or authentication:", e); userStatusEl.textContent = `Authentication Error: ${e.message}`; submitBtn.disabled = true; } } // --- FORM SUBMISSION TO FIRESTORE --- async function submitIdeaToFirestore(formData) { if (!isAuthReady || !userId) { console.error("Authentication not ready. Cannot submit data."); throw new Error("Authentication not complete. Please try again."); } const path = `artifacts/${appId}/users/${userId}/mondial_eco_submissions`; // Add a timestamp and the user ID to the data const dataToSave = { ...formData, userId: userId, timestamp: new Date().toISOString() }; try { const docRef = await addDoc(collection(db, path), dataToSave); console.log("Document successfully written with ID:", docRef.id); return docRef.id; } catch (e) { console.error("Firestore Write Error:", e); throw new Error(`Error during save: ${e.message}`); } } // --- EVENT LISTENERS --- document.getElementById("next-1").addEventListener("click", () => { if (validateStep1()) showStep(2); }); document.getElementById("next-2").addEventListener("click", () => { if (validateStep2()) showStep(3); }); document.getElementById("next-3").addEventListener("click", () => { if (validateStep3()) { fillRecap(); showStep(4); } }); document.querySelectorAll("[data-prev]").forEach(btn => { btn.addEventListener("click", () => { if (currentStep > 1) showStep(currentStep - 1); }); }); form.addEventListener("submit", async (e) => { e.preventDefault(); // Reset messages and show loading state successBox.style.display = "none"; errorBox.style.display = "none"; submitBtn.disabled = true; submitBtn.classList.add('btn-loading'); submitBtn.textContent = "Sending..."; const formData = { prenom: document.getElementById("prenom").value, email: document.getElementById("email").value, pays: document.getElementById("pays").value, typeProjet: document.getElementById("typeProjet").value, idee: document.getElementById("idee").value, pourquoi: document.getElementById("pourquoi").value, peur: document.getElementById("peur").value, temps: document.getElementById("temps").value, budget: document.getElementById("budget").value, // Conditions are implicitly accepted by being on this step }; try { await submitIdeaToFirestore(formData); // Success successBox.style.display = "block"; submitBtn.textContent = "Request Sent!"; } catch (e) { // Failure errorBox.style.display = "block"; console.error("Submission error:", e); submitBtn.textContent = "Try Sending Again"; submitBtn.disabled = false; } finally { submitBtn.classList.remove('btn-loading'); } }); // --- INITIAL SETUP --- window.onload = function () { document.getElementById("year").textContent = new Date().getFullYear(); initFirebaseAndAuth(); } </script> </body> </html>
